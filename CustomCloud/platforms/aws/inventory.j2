[{{ cluster_tag }}]
{% for h in instance_vars %}
{{ h.Name or (cluster_name ~'-'~ h.node)|lower }} ansible_host={{ h.public_ip }} node={{ h.node }} role='[{{ h.role|select("notequalto","postgres")|map("doublequote")|join(",") }}]'
{% endfor %}

[{{ cluster_tag }}:vars]
cluster_tag={{ cluster_tag }}
cluster_name={{ cluster_name }}
ansible_user={{ ec2_ami_user|default('admin') }}
ansible_python_interpreter=/usr/bin/python2.7
{% for k,v in variables.iteritems(): %}
{{ k }}={{v}}
{% endfor %}
ansible_ssh_private_key_file="{{ cluster_dir|relpath(playbook_dir+'/../..') }}/{{ ec2_key_file }}"
ansible_ssh_common_args="-o UserKnownHostsFile='{{ cluster_dir|relpath(playbook_dir+'/../..') }}/known_hosts'"
