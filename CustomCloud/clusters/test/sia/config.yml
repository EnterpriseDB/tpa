---

# An example EC2 configuration for SIA cluster deployment.
#
# Intended for deployment under the 2ndQuadrant AWS account.

cluster_name: "SIATEST"
cluster_tags:
  Name: SIATEST
  Owner: Pallavi

cluster_rules:
  - proto: tcp
    from_port: 22
    to_port: 22
    cidr_ip: 0.0.0.0/0
  - proto: tcp
    from_port: 5432
    to_port: 5432
    cidr_ip: 0.0.0.0/0
  - proto: tcp
    from_port: 3389
    to_port: 3389
    cidr_ip: 0.0.0.0/0
  - proto: tcp
    from_port: 20000
    to_port: 20005
    cidr_ip: 0.0.0.0/0
  - proto: tcp
    from_port: 20000
    to_port: 22000
    cidr_ip: 0.0.0.0/0

ec2_vpc:
  Name: Test

ec2_vpc_subnets:
  ap-southeast-1:
    10.33.63.0/26:
      az: ap-southeast-1a

instances:
#Windows server 2016 i3.large spot instance
    - node: 1
      type: i3.large
      image: ami-781f891b
      region: ap-southeast-1
      subnet: 10.33.63.0/26
      spot_price: 0.112
      spot_wait_timeout: 1800
      spot_launch_group: sialaunchgrp
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-1
        role: postgres
