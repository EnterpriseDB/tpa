---

# An example EC2 configuration for SIA cluster deployment.
#
# Intended for deployment under the 2ndQuadrant AWS account.

cluster_name: "SIATEST"
cluster_tags:
  Name: SIATEST
  Owner: Pallavi

ec2_ami_user: "admin"

cluster_rules:
  - proto: tcp
    from_port: 22
    to_port: 22
    cidr_ip: 0.0.0.0/0
  - proto: tcp
    from_port: 5432
    to_port: 5432
    cidr_ip: 0.0.0.0/0
  - proto: tcp
    from_port: 3389
    to_port: 3389
    cidr_ip: 0.0.0.0/0
  - proto: tcp
    from_port: 20000
    to_port: 20005
    cidr_ip: 0.0.0.0/0
  - proto: tcp
    from_port: 20000
    to_port: 22000
    cidr_ip: 0.0.0.0/0

ec2_vpc:
  Name: Test

ec2_vpc_subnets:
  us-east-1:
    10.33.80.0/24:
      az: us-east-1e

instances:
#Windows server 2016 i3.large spot instance
    - node: 1
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-1
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 2
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-2
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 3
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-3
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 4
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-4
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 5
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-5
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 6
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-6
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 7
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-7
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 8
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-8
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 9
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-9
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 10
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-10
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 11
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-11
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 12
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-12
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 13
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-13
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 14
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-14
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 15
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-15
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 16
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-16
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 17
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-17
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 18
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-18
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 19
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-19
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 20
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-20
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 21
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-21
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 22
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-22
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 23
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-23
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 24
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-24
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 25
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-25
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 26
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-26
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 27
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-27
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 28
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-28
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 29
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-29
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 30
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-30
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 31
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-31
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 32
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-32
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 33
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-33
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 34
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-34
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 35
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-35
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 36
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-36
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 37
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-37
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 38
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-38
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 39
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-39
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 40
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-40
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 41
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-41
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 42
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-42
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 43
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-43
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 44
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-44
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 45
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-45
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 46
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-46
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 47
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-47
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 48
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-48
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 49
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-49
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 50
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-50
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 51
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-51
        role: postgres
#Windows server 2016 i3.large spot instance
    - node: 52
      type: t2.medium
      image: ami-04a98d7f
      region: us-east-1
      subnet: 10.33.80.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 8
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-windows-52
        role: postgres
#Centos7 system: i3.large spot instance
    - node: 53
      type: i3.large
      image: ami-cce4c0b7
      region: us-east-1
      subnet: 10.33.80.0/24
      spot_price: 0.112
      spot_wait_timeout: 1800
      spot_launch_group: sialaunchgrp
      volumes:
          - device_name: root
            volume_type: gp2
            volume_size: 500
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        Name: sia-centos7
        role: postgres
