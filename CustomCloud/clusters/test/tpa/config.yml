---

# An EC2 configuration for the CustomCloud TPA setup
#
# We will be using Ubuntu 16.04 LTS 64 bit image for deployment
#
# Intended for deployment under the 2ndQuadrant AWS account.

cluster_name: "TPA"
cluster_tags:
  Name: TPA
  Owner: Nikhils

ec2_ami_name: "ubuntu/images/hvm-ssd/ubuntu-xenial-16.04-amd64-server-20160627"
ec2_ami_user: "ubuntu"

ec2_vpc:
  Name: Test
  cidr: 10.33.67.0/24

ec2_vpc_subnets:
  ap-southeast-2:
    10.33.67.0/26: ap-southeast-2a
    10.33.67.64/26: ap-southeast-2a
    10.33.67.192/27: ap-southeast-2c

instances:
    - type: t2.small
      region: ap-southeast-2
      subnet: 10.33.67.0/26
      volumes:
          - device_name: /dev/xvdb
            volume_type: gp2
            volume_size: 10
            delete_on_termination: true
      tags:
        db: primary
        node: 1
    - type: t2.small
      region: ap-southeast-2
      subnet: 10.33.67.64/26
      volumes:
          - device_name: /dev/xvdb
            volume_type: standard
            volume_size: 10
            delete_on_termination: true
      tags:
        db: standby
        node: 2
    - type: t2.small
      region: ap-southeast-2
      subnet: 10.33.67.192/27
      volumes:
          - device_name: /dev/xvdb
            volume_type: standard
            volume_size: 10
            delete_on_termination: true
      tags:
        db: standby
        node: 3
variables:
   customerid: A12345
   serviceid: B67891
   use_2ndquadrant_postgres: yes
