---

- name: Install EPEL release package
  raw: rpm -ivh http://dl.fedoraproject.org/pub/epel/7/x86_64/e/epel-release-7-8.noarch.rpm
  register: epel
  changed_when: >
    epel|succeeded and 'is already installed' not in epel.stdout
  ignore_errors: yes

- name: Install Python 2.7
  raw: yum -y install python
  register: python
  changed_when: >
    python|succeeded and 'already installed and latest version' not in python.stdout

- name: Install pip
  raw: yum -y install python-pip
  register: pip
  changed_when: >
    pip|succeeded and 'already installed and latest version' not in pip.stdout
