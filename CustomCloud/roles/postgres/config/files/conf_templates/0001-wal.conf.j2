# Please do not edit this file. Your changes will be overwritten. Put
# your configuration overrides into conf.d/9999-override.conf instead.

wal_level = {{ wal_level|default('logical') }}

fsync = on
synchronous_commit = {{ synchronous_commit|default('on') }}

full_page_writes = {{ full_page_writes|default('on') }}
wal_log_hints = {{ wal_log_hints|default('on') }}
wal_compression = {{ wal_compression|default('off') }}
wal_buffers = {{ wal_buffers|default(-1) }}
commit_delay = {{ commit_delay|default(0) }}
commit_siblings = {{ commit_siblings|default(5) }}

checkpoint_warning = {{ checkpoint_warning|default('2min') }}
checkpoint_timeout = {{ checkpoint_timeout|default('30min') }}
checkpoint_completion_target = {{ checkpoint_completion_target|default(0.9) }}

{% if pgversion|version_compare('9.5', '>=') %}
max_wal_size = {{ max_wal_size|default('4GB') }}
min_wal_size = {{ min_wal_size|default('128MB') }}
{% else %}
checkpoint_segments = {{ checkpoint_segments|default(128) }}
{% endif %}
