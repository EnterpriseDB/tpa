---

# An example EC2 configuration for XL cluster deployment.
#
# The image ids below are the "debian-wheezy-amd64-hvm-2015-01-28-ebs"
# community AMI in each region.
#
# Intended for deployment under the 2ndQuadrant AWS account.

cluster_name: "XLCloud"
cluster_tags:
  Name: XLCloud
  Owner: AMS
cluster_rules:
  - proto: tcp
    from_port: 22
    to_port: 22
    cidr_ip: 0.0.0.0/0
  - proto: tcp
    from_port: 5432
    to_port: 5432
    cidr_ip: 0.0.0.0/0
  - proto: tcp
    from_port: 20000
    to_port: 20005
    cidr_ip: 0.0.0.0/0

instances:
    - type: c3.4xlarge
      region: us-west-2
      image: ami-431a4273
      subnet: 10.63.1.0/24
      assign_eip: yes
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 100
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        node: 1
        role: gtm,coordinator
    - type: i2.xlarge
      region: us-west-2
      image: ami-431a4273
      subnet: 10.63.1.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 100
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        node: 2
        role: datanode
    - type: i2.xlarge
      region: us-west-2
      image: ami-431a4273
      subnet: 10.63.1.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 100
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        node: 3
        role: datanode
    - type: i2.xlarge
      region: us-west-2
      image: ami-431a4273
      subnet: 10.63.1.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 100
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        node: 4
        role: datanode
    - type: i2.xlarge
      region: us-west-2
      image: ami-431a4273
      subnet: 10.63.1.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 100
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        node: 5
        role: datanode
    - type: i2.xlarge
      region: us-west-2
      image: ami-431a4273
      subnet: 10.63.1.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 100
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        node: 6
        role: datanode
    - type: i2.xlarge
      region: us-west-2
      image: ami-431a4273
      subnet: 10.63.1.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 100
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        node: 7
        role: datanode
    - type: i2.xlarge
      region: us-west-2
      image: ami-431a4273
      subnet: 10.63.1.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 100
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        node: 8
        role: datanode
    - type: i2.xlarge
      region: us-west-2
      image: ami-431a4273
      subnet: 10.63.1.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 100
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        node: 9
        role: datanode
    - type: i2.xlarge
      region: us-west-2
      image: ami-431a4273
      subnet: 10.63.1.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 100
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        node: 10
        role: datanode
    - type: i2.xlarge
      region: us-west-2
      image: ami-431a4273
      subnet: 10.63.1.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 100
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        node: 11
        role: datanode
    - type: i2.xlarge
      region: us-west-2
      image: ami-431a4273
      subnet: 10.63.1.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 100
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        node: 12
        role: datanode
    - type: i2.xlarge
      region: us-west-2
      image: ami-431a4273
      subnet: 10.63.1.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 100
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        node: 13
        role: datanode
    - type: i2.xlarge
      region: us-west-2
      image: ami-431a4273
      subnet: 10.63.1.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 100
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        node: 14
        role: datanode
    - type: i2.xlarge
      region: us-west-2
      image: ami-431a4273
      subnet: 10.63.1.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 100
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        node: 15
        role: datanode
    - type: i2.xlarge
      region: us-west-2
      image: ami-431a4273
      subnet: 10.63.1.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 100
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        node: 16
        role: datanode
    - type: i2.xlarge
      region: us-west-2
      image: ami-431a4273
      subnet: 10.63.1.0/24
      volumes:
          - device_name: /dev/xvda
            volume_type: gp2
            volume_size: 100
            delete_on_termination: true
          - device_name: /dev/xvdb
            ephemeral: ephemeral0
      tags:
        node: 17
        role: datanode
