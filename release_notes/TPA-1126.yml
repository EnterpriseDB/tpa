- summary: HAProxy health checks now correctly use HTTPS for SSL-enabled Patroni clusters
  description: |
    A bug has been fixed where HAProxy was incorrectly configured to use HTTP for health
    checks against Patroni nodes, even when the Patroni REST API was secured with SSL
    (`patroni_ssl_enabled: true`). This misconfiguration caused health checks to fail,
    leading HAProxy to mark healthy Patroni nodes as down.

    The HAProxy configuration logic has been updated to use `check-ssl verify none` when
    `patroni_ssl_enabled` is true, ensuring that health checks are correctly performed
    over HTTPS.
  type: bugfix
  jira_tickets:
    - TPA-1126
