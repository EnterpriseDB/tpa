- summary: The `barman` Postgres user should not be a superuser
  description: |
    Certain required privileges are granted to Postgres role, `barman_role`, which is
    then granted to the `barman` Postgres user. This avoids creating the `barman`
    user as a superuser. This role can also be granted to other Postgres users
    by adding it to their `granted_roles` list using `postgres/createuser`.
    
    The `barman_role` is created as part of the Barman tasks; if Barman is not
    used, this role will not be created. Therefore, the task that grants privileges
    to this role is only executed if the `barman_role` username is in the list 
    of Postgres users that are created.

    The 'barman' user now has `NOSUPERUSER` explicitly specified as a role attribute. 
    If a cluster was deployed with a previous TPA version (which created the 'barman' 
    user as a superuser), deploying with this version will remove the `superuser`
    role attribute from the `barman` user.
  # Possible types: notable_change, minor_change, bugfix or breaking_change
  type: minor_change
  # At least one between jira_tickets or support_tickets must be defined. You
  # can define both if you want
  # You must have at least one list item in each *_tickets section that is
  # defined
  jira_tickets:
  - TPA-148
  - TPA-818
