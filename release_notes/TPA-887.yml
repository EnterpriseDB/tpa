- summary: Fix Postgres database creation
  description: |
    In order to remove modules (`CREATE EXTENSION` is not run, e.g. `pg_failover_slots`) 
    from the list of `extensions` specified for named databases under `postgres_databases`,
    the entire hash was modified. This introduced a bug, since a new hash was created
    that ONLY contained the database `name` and list of `extensions`, ignoring all other
    configuration settings for the database (`owner`, `template`, `encoding` etc).

    This resulted in databases being created with the default parameters rather than
    as configured.

    To fix this, the modules are removed from the list of extensions and the resulting
    list is passed to the task which runs CREATE EXTENSION.


  # Possible types: notable_change, minor_change, bugfix or breaking_change
  type: bugfix
  # At least one between jira_tickets or support_tickets must be defined. You
  # can define both if you want
  # You must have at least one list item in each *_tickets section that is
  # defined
  jira_tickets:
  - TPA-406
  - TPA-887
