---

# Copyright Â© EnterpriseDB Corporation

- name: Install haproxy package
  package:
    name: "{{
      haproxy_packages|packages_for(ansible_os_family, haproxy_package_version)
    }}"
    state: "{{
      (haproxy_package_version is defined)|ternary('present', 'latest')
    }}"
  tags: pkg

- name: Ensure haproxy group exists
  group:
    state: present
    name: haproxy

- name: Ensure haproxy user exists
  user:
    state: present
    name: haproxy
    group: haproxy
