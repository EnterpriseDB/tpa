---

# If ansible_distribution is not specified in the inventory, we perform
# "lightweight" distribution detection. We support Debian, RedHat, and
# Ubuntuâ€”and we aren't worried about detecting older versions of these
# platforms accurately (since we control what runs on the machines).
#
# We can't rely on there being a usable Python installed yet.

- minimal_setup:

- name: Ensure ansible_distribution is supported
  assert:
    msg: "ansible_distribution must be set to Debian/RedHat/Ubuntu"
    that:
      - ansible_distribution is defined
      - ansible_distribution in ('Debian', 'RedHat', 'Ubuntu')
