---

# Copyright Â© 2ndQuadrant Limited <info@2ndquadrant.com>

# Install (or compile) nsca-ng client


- name: Check the send_nsca executable (OS)
  stat: path=/usr/sbin/send_nsca
  register: nsca_system

- name: Check the send_nsca executable (Custom)
  stat: path=~/bin/send_nsca
  register: nsca_user

- name: Install nsca (Debian)
  apt: name="{{ nsca_package }}" state=latest
  become: yes
  become_user: root
  when: (install_nsca|bool == true) and (have_root_sudo|bool == true) and (ansible_distribution == "Debian")

- name: Install nsca (Ubuntu)
  apt: name="{{ nsca_package }}" state=latest
  become: yes
  become_user: root
  when: (install_nsca|bool == true) and (have_root_sudo|bool == true) and (ansible_distribution == "Ubuntu")

#TODO: install it on RedHat
