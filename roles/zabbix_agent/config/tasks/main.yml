---

# Copyright Â© 2ndQuadrant Limited <info@2ndquadrant.com>

- name: "Including userparameters"
  include: "userparameter.yml"
  when: zabbix_agent_userparameters|length > 0
  tags: [zabbix-agent, config]

- name: "Install zabbix_agentd config file"
  include: "Linux.yml"
  tags: [zabbix-agent, config]

- include_role: name=postgres/pgpass
  vars:
    pgpassfile: ~zabbix/.pgpass
    pgpass_owner: zabbix
    pgpass_group: zabbix
    pgpass_users: "{{ zabbix_pgpass_users|default('postgres') }}"
  when: zabbix_pgpass_users|length > 0
