---

# Copyright Â© 2ndQuadrant Limited <info@2ndquadrant.com>

## What should we build?
#
# We take a git repository URL to clone and a reference to checkout. An
# optional local reference repository can be specified to save bandwidth
# and time. By default we build the stable revision from postgres-xl.git.

pgxl_git_url: git://git.postgresql.org/git/postgres-xl.git
pgxl_git_ref: XL9_5_STABLE
pgxl_git_reference_repo: ""

## Build and install locations
#
# We clone the repository specified above into the src_dir given here,
# do a VPATH build (configure+make) in the build_dir, and install to
# the install_dir.
#
# By default, an empty build directory is created each time, but using
# "--skip-tags postgres-clean" will use an existing build_dir (and not
# re-run configure).

pgxl_src_dir: /opt/postgres-xl/src
pgxl_build_dir: /opt/postgres-xl/build
pgxl_install_dir: /opt/pgxl

## Build customisation
#
# We install Postgres along with all contrib modules by default. These
# settings can be used to customise the configure/build/install process.

pgxl_configure_env: {}
pgxl_configure_opts: []
pgxl_make_command: "make"
pgxl_build_targets:
  - "all"
  - "-C contrib all"
pgxl_install_targets:
  - "install"
  - "-C contrib install"

#
# We install the psycopg2 package (because we need it to use
# Ansible's postgresql_* modules). This is a duplication from the
# postgres/pkg module, but that module does a lot more unnecessary
# stuff which does not make sense for postgres-xl
#
# Change RedHat extra packages entry appropriately if any new
# package name differs in the future
pgxl_extra_packages:
  Debian: &debian_packages
    - "{{ python_pkg_prefix }}-psycopg2"
  RedHat: *debian_packages
  Ubuntu: *debian_packages
