---

# Copyright Â© 2ndQuadrant Limited <info@2ndquadrant.com>

- name: Install pgbouncer package
  package:
    name: >
      {{ query('flattened', package_lists) }}
    state: "{{
      (pgbouncer_package_version is defined)|ternary('present', 'latest')
    }}"
  vars:
    package_lists:
      - "{{ pgbouncer_packages|packages_for(ansible_distribution, pgbouncer_package_version) }}"
  tags: [pgbouncer, pkg]

- include_role: name=postgres/pkg tasks_from=client.yml
