# Please do not edit this file. Your changes will be overwritten. Put
# your configuration overrides into conf.d/9999-override.conf instead.

{#
    This mirrors the settings in tpa.conf.j2
#}
{% for k in ['tcp_keepalives_idle', 'tcp_keepalives_interval', 'tcp_keepalives_count', 'temp_buffers', 'work_mem', 'maintenance_work_mem', 'autovacuum_work_mem', 'bgwriter_delay', 'bgwriter_lru_maxpages', 'bgwriter_lru_multiplier', 'effective_io_concurrency', 'log_destination', 'syslog_facility', 'syslog_ident', 'log_connections', 'log_disconnections', 'log_statement', 'log_temp_files', 'log_min_duration_statement', 'log_line_prefix', 'seq_page_cost', 'random_page_cost', 'cpu_tuple_cost', 'cpu_index_tuple_cost', 'cpu_operator_cost', 'effective_cache_size', 'default_statistics_target', 'constraint_exclusion', 'wal_sender_timeout', 'wal_receiver_timeout', 'hot_standby_feedback', 'max_standby_streaming_delay', 'log_autovacuum_min_duration', 'autovacuum_naptime', 'autovacuum_vacuum_threshold', 'autovacuum_analyze_threshold', 'autovacuum_vacuum_scale_factor', 'autovacuum_analyze_scale_factor', 'autovacuum_vacuum_cost_delay', 'autovacuum_vacuum_cost_limit', 'vacuum_cost_delay', 'vacuum_cost_limit', 'synchronous_commit', 'full_page_writes', 'commit_delay', 'commit_siblings', 'checkpoint_warning', 'checkpoint_timeout', 'checkpoint_completion_target', 'transform_null_equals', 'array_nulls', 'backslash_quote', 'default_with_oids', 'escape_string_warning', 'lo_compat_privileges', 'quote_all_identifiers', 'sql_inheritance', 'standard_conforming_strings', 'synchronize_seqscans'] %}
{% if k in vars and not (k in hostvars[upstream] and hostvars[upstream][k] == vars[k]) %}
{{ k }} = {{ vars[k] }}
{% endif %}
{% endfor %}

{% if postgres_version|version_compare('9.5', '>=') %}
{% for k in ['max_wal_size','min_wal_size'] %}
{% if k in vars and not (k in hostvars[upstream] and hostvars[upstream][k] == vars[k]) %}
{{ k }} = {{ vars[k] }}
{% endif %}
{% endfor %}
{% else %}
{% for k in ['checkpoint_segments'] %}
{% if k in vars and not (k in hostvars[upstream] and hostvars[upstream][k] == vars[k]) %}
{{ k }} = {{ vars[k] }}
{% endif %}
{% endfor %}
{% endif %}

{% if postgres_version|version_compare('9.4', '>') %}
{% for k in ['wal_compression','operator_precedence_warning'] %}
{% if k in vars and not (k in hostvars[upstream] and hostvars[upstream][k] == vars[k]) %}
{{ k }} = {{ vars[k] }}
{% endif %}
{% endfor %}
{% endif %}
