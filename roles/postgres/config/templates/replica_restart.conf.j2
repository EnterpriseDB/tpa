# Please do not edit this file. Your changes will be overwritten. Put
# your configuration overrides into conf.d/9999-override.conf instead.

{#
    This mirrors the settings in tpa_restart.conf.j2
#}
{% for k in ['port', 'max_connections', 'shared_buffers', 'max_prepared_transactions', 'max_worker_processes', 'logging_collector', 'max_wal_senders', 'max_replication_slots', 'wal_keep_segments', 'ssl_ca_file', 'ssl_crl_file', 'ssl_cert_file', 'ssl_key_file', 'autovacuum_max_workers', 'autovacuum_freeze_max_age', 'autovacuum_multixact_freeze_max_age', 'wal_level', 'wal_log_hints', 'wal_buffers'] %}
{% if k in vars and not (k in hostvars[upstream] and hostvars[upstream][k] == vars[k]) %}
{{ k }} = {{ vars[k] }}
{% endif %}
{% endfor %}

{% if postgres_version|version_compare('9.4', '>') %}
{% for k in ['cluster_name','track_commit_timestamp'] %}
{% if k in vars and not (k in hostvars[upstream] and hostvars[upstream][k] == vars[k]) %}
{{ k }} = {{ vars[k] }}
{% endif %}
{% endfor %}
{% endif %}

{% for k in ['shared_preload_libraries'] %}
{% if k in vars and not (k in hostvars[upstream] and hostvars[upstream][k] == vars[k]) %}
{{ k }} = '{{ vars[k] }}'
{% endif %}
{% endfor %}
