---

postgresql_flavour: "postgresql"

# First, postgres_packages and postgres_debug_packages are the packages
# for Postgres itself. These lists should contain only those packages to
# which the same postgres_package_version setting applies. Anything else
# should go into additional/extra_postgres_packages below.

postgres_packages:
  Debian: &debian_packages
    - "{{postgresql_flavour}}-{{postgres_version}}"
    - "{{postgresql_flavour}}-client-{{postgres_version}}"
    - "{{postgresql_flavour}}-contrib-{{postgres_version}}"
    - "{{postgresql_flavour}}-server-dev-{{postgres_version}}"
    - "{{postgresql_flavour}}-plperl-{{postgres_version}}"
  RedHat:
    - "{{postgresql_flavour}}{{postgres_versionNN}}"
    - "{{postgresql_flavour}}{{postgres_versionNN}}-contrib"
    - "{{postgresql_flavour}}{{postgres_versionNN}}-server"
    - "{{postgresql_flavour}}{{postgres_versionNN}}-devel"
    - "{{postgresql_flavour}}{{postgres_versionNN}}-libs"
    - "{{postgresql_flavour}}{{postgres_versionNN}}-plperl"
  Ubuntu: *debian_packages

postgres_debug_packages:
  Debian: &debian_debug_packages
    - "{{postgresql_flavour}}-{{postgres_version}}-dbg"
  RedHat:
    - "{{postgresql_flavour}}{{postgres_versionNN}}-debuginfo"
  Ubuntu: *debian_debug_packages

pglogical_packages:
  Debian: &debian_pglogical_packages
    - postgresql-{{postgres_version}}-pglogical
  RedHat:
    - postgresql{{postgres_versionNN}}-pglogical
  Ubuntu: *debian_pglogical_packages

pglogical_debug_packages:
  Debian: &debian_pglogical_debug_packages
    - postgresql-{{postgres_version}}-pglogical-dbg
  RedHat:
    - postgresql{{postgres_versionNN}}-pglogical-debuginfo
  Ubuntu: *debian_pglogical_debug_packages

bdr_packages:
  Debian: &debian_bdr_packages
    - "{{postgresql_flavour}}-{{postgres_version}}-bdr-plugin"
    - "{{postgresql_flavour}}-{{postgres_version}}-bdr-plugin-dbg"
  RedHat:
    - "{{postgresql_flavour}}{{postgres_versionNN}}-bdr"
    - "{{postgresql_flavour}}{{postgres_versionNN}}-bdr-debuginfo"
  Ubuntu: *debian_bdr_packages

# Next, additional_postgres_packages is a list of other Postgres-related
# packages that we install by default, and extra_postgres_packages is an
# empty list that the caller can define to install other packages. These
# are all unrelated packages and may have different versions.

additional_postgres_packages:
  Debian: &debian_additional_packages
    - barman-cli
  RedHat:
    - barman-cli
  Ubuntu: *debian_additional_packages

extra_postgres_packages:
  Debian: &debian_extra_packages []
  RedHat: []
  Ubuntu: *debian_extra_packages

default_postgres_service_names:
  Debian: "postgresql"
  RedHat: "postgresql-{{ postgres_version }}"
