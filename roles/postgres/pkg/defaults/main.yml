---

# The default package list installs community or 2ndQuadrant postgres.
# The caller may override this list entirely, or just augment it by
# adding to extra_postgres_packages below.

postgres_packages:
  Debian: &debian_packages
    - postgresql-{{postgres_version}}
    - postgresql-client-{{postgres_version}}
    - postgresql-contrib-{{postgres_version}}
    - postgresql-server-dev-{{postgres_version}}
    - postgresql-plperl-{{postgres_version}}
    - postgresql-{{postgres_version}}-plv8
    - barman-cli
  RedHat:
    - postgresql{{postgres_versionNN}}
    - postgresql{{postgres_versionNN}}-contrib
    - postgresql{{postgres_versionNN}}-server
    - postgresql{{postgres_versionNN}}-devel
    - postgresql{{postgres_versionNN}}-libs
    - postgresql{{postgres_versionNN}}-plperl
    - plv8_{{postgres_versionNN}}
    - barman-cli
  Ubuntu: *debian_packages

postgres_debug_packages:
  Debian:
    - postgresql-{{postgres_version}}-dbg{%- if postgres_version|version_compare('10', '>=') -%}sym{%- endif -%}
  RedHat:
    - postgresql{{postgres_versionNN}}-debuginfo
  Ubuntu:
    - postgresql-{{postgres_version}}-dbg

extra_postgres_packages:
  Debian: &debian_extra_packages []
  RedHat: []
  Ubuntu: *debian_extra_packages

default_postgres_service_names:
  Debian: "postgresql"
  RedHat: "postgresql-{{ postgres_version }}"
