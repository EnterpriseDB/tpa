---

# Â© Copyright EnterpriseDB UK Limited 2015-2022 - All rights reserved.

- include_tasks: list-packages.yml
  vars:
    list_varname: _all_postgres_packages

- name: Install latest Postgres packages
  package:
    name: "{{ _all_postgres_packages }}"
    state: "{{ _state }}"
  vars:
    _state: "{{
      (postgres_package_version is not defined and
       pglogical_package_version is not defined and
       bdr_package_version is not defined)
      |ternary('latest', 'present')
    }}"
  notify:
    - Note Postgres restart required
