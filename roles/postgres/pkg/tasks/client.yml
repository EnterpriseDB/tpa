---

# Copyright Â© 2ndQuadrant Limited <info@2ndquadrant.com>

- name: Install Postgres client package
  package:
    name: >
      {{ query('flattened', package_lists) }}
    state: "{{
      (postgres_package_version is defined)|ternary('present', 'latest')
    }}"
  vars:
    package_lists:
    - "{{ postgres_client_packages|packages_for(ansible_os_family, postgres_package_version) }}"
  tags: [postgres, pkg]

- include_tasks: psycopg2.yml
  tags: [postgres, pkg]
