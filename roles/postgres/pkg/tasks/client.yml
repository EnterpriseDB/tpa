---

# Â© Copyright EnterpriseDB UK Limited 2015-2022 - All rights reserved.

- name: Install Postgres client package
  package:
    name: >
      {{ query('flattened', package_lists) }}
    state: "{{
      (postgres_package_version is defined)|ternary('present', 'latest')
    }}"
  vars:
    package_lists:
    - "{{ postgres_client_packages[postgres_family]|packages_for(ansible_os_family, postgres_package_version) }}"
    - "{{ psycopg2_packages|packages_for(ansible_os_family) }}"
  tags: pkg
