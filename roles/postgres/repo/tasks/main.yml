---

- name: Ensure Postgres configuration is present
  assert:
    msg: "Please include the postgres/vars role to define pgversion"
    that:
      - pgversion is defined
      - pgversionNN is defined

# Given a Postgres version, we perform distribution-specific tasks to
# enable repositories and install Postgres packages.

- include: "os/{{ ansible_os_family }}.yml"
  tags: [postgres, pkg]
