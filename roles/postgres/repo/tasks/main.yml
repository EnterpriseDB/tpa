---

- name: Ensure Postgres configuration is present
  assert:
    msg: "Please include the postgres/vars role to define postgres_version"
    that:
      - postgres_version is defined
      - postgres_versionNN is defined

# Given a Postgres version, we perform distribution-specific tasks to
# enable repositories and install Postgres packages.

- include: "os/{{ ansible_os_family }}.yml"
  tags: [postgres, pkg]
