---

# Copyright Â© 2ndQuadrant Limited <info@2ndquadrant.com>

- name: Install build requirements
  package:
    name: >
      {{ query('flattened', package_lists) }}
    state: latest
  vars:
    package_lists:
      - "{{ requirements['common'] }}"
      - "{{ requirements[ansible_os_family] }}"

- name: Install IPC::Run
  cpanm:
    name: IPC::Run
  when:
    ansible_os_family == 'RedHat'
