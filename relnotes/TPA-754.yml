- summary: Basic integration between Patroni and PgBouncer
  description: |
    The `--enable-pgbouncer` option of `tpaexec configure` is made available so
    users can easily create a cluster with PgBouncer. When given through the
    command-line, TPA will add the `pgbouncer` role to the Postgres hosts and
    configure PgBouncer to pool connections for the primary node.

    When there are both Patroni and PgBouncer nodes in the cluster, TPA
    configures Patroni with a `on_role_change` callback. That callback takes
    care of updating the primary connection info in the PgBouncer nodes in
    response to failover and switchover events.
  type: minor_change
  jira_tickets:
  - TPA-754
